define(["jquery","core/templates"],function(t,e){return{init:function(){t(document).ready(function(){t(".tag-collections-table tbody tr").each(function(){var a=t(this);if(!a.find(".export-collection, .import-collection").length){var o=a.find("td.c4.lastcol");if(o.length){var n=a.find('td.c0 a[href*="manage.php?tc="]');if(n.length){var r=new URL(n.attr("href"),window.location.origin).searchParams.get("tc");if(r){var i=M.cfg.sesskey,c=M.cfg.wwwroot+"/local/tagmanager/export.php?tc="+r+"&sesskey="+i,l=M.cfg.wwwroot+"/local/tagmanager/import.php?tc="+r,f=t("<a/>",{href:l,class:"action-icon import-collection",title:"Import tags",html:'<i class="icon fa fa-upload fa-fw " title="Import tags" role="img" aria-label="Import tags"></i>'});o.append(f),e.render("local_tagmanager/export_action",{exporturl:c}).done(function(t,a){o.append(t),e.runTemplateJS(a)}).fail(function(t){console.error("Failed to render export link",t)})}}}}})})}}});